<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- vista lista: es la primera vista que tenemos cuando entramos al modulo -->
        <record id="gestion_junta_gobierno_tree" model="ir.ui.view">
            <field name="name">cargos.colegio.tree</field>
            <field name="model">cargos.colegio</field>
            <field name="arch" type="xml">
                <tree string = "Cargos Junta de Gobierno">
                    <field name = "x_seq"/>
                    <field name = "x_cargos_jg"/>
                    <field name = "x_dni"/>
                    <field name = "x_nombre"/>
                    <field name = "x_apellidos"/>
                    <field name = "x_indicadorERP"/>
                    <field name = "x_fechaI"/>
                    <field name = "x_fechaF"/>
                </tree>
            </field>
        </record>
        <!-- vista Form: es la  vista que tenemos cuando entramos para editar ó crear un registro -->
        <record id="gestion_junta_gobierno_form" model="ir.ui.view">
            <field name="name">cargos.colegio.form</field>
            <field name="model">cargos.colegio</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                        <h1>
                            <field name="x_seq" readonly="1"/>
                        </h1>
                    </div>
                        <group>
                            <group>
                                <field name = "x_cargos_jg"/>
                                <field name = "x_dni"/>
                                <field name = "x_indicadorERP"/>
                            </group>
                            <group>
                                <field name = "x_nombre"/>
                                <field name = "x_apellidos"/>
                                <field name = "x_fechaI"/>
                                <field name = "x_fechaF"/>
                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter"><!-- Panel de actividad -->
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread" options="{'post_refresh': 'recipients'}"/>
                    </div>
                </form>
            </field>
        </record>
        <!-- Vista búsqueda añadidos dos filtros para ordenar por nombre y cargo. -->
        <record id="view_cargos_search" model="ir.ui.view">
            <field name="name">cargos.colegio.search</field>
            <field name="model">cargos.colegio</field>
            <field name="arch" type="xml">
                <search string="Cargos">
                    <field name="x_nombre"/>
                    <field name="x_cargos_jg"/>
                    <separator/>
                    <filter string="Indicador ERP" name="x_indicadorERP" domain="[('x_indicadorERP', '=', True)]" />
                    <group expand="1" string="Group By">
                        <filter string="Nombre" name="x_nombre" context="{'group_by': 'x_nombre'}"/>
                        <filter string="Cargos" name="x_cargos_jg" context="{'group_by': 'x_cargos_jg'}"/>
                    </group>
                </search>
            </field>
        </record>
        <!-- Vista acción -->
        <record id="action_gestion_junta_gobierno" model="ir.actions.act_window">
                <field name="name">Cargos Junta de Gobierno</field>
                <field name="type">ir.actions.act_window</field>
                <field name="res_model">cargos.colegio</field>
                <field name="view_type">form</field>
                <field name="view_mode">tree,form</field>
                <field name="help" type="html">
                  <p class="o_view_nocontent_smiling_face">
                    Crea tu primer registro!
                  </p>
                </field>
        </record>

        <menuitem id="gestion_junta_gobierno_root" name="Gestion Junta de Gobierno" sequence="10"/>
        <menuitem id="gestion_junta_gobierno" name="Junta Gobierno" parent="gestion_junta_gobierno_root" action="action_gestion_junta_gobierno"/>
    </data>
</odoo>